<!DOCTYPE html>
<html>
<head lang="en">
	<meta charset="UTF-8">
	<title></title>

	<style>
		html,
		body {
			height: 100%;
			background: lawngreen;
			padding: 0;
			margin: 0;
		}

		* {
			-webkit-user-select: none;
		}

		#dropzone {
			background: deeppink;
			width: 100%;
			height: 100%;
		}

		#dropzone.hover {
			background: greenyellow;
		}

		button {
			-webkit-app-region: no-drag;
		}
	</style>
</head>
<body style="-webkit-app-region: drag">
<div id="dropzone">

</div>
<div style="position: absolute; top: 0">
	<button id="reload">reload</button>
</div>

<script type="text/javascript">
	// Get the current window aka this
	var win = require('nw.gui').Window.get();

	window.onload = function () {
		var dropzone = document.getElementById('dropzone');

		// prevent default behavior from changing page on dropped file
		window.ondragover = function (e) {
			e.preventDefault();
			return false
		};
		window.ondrop = function (e) {
			e.preventDefault();
			return false
		};

		dropzone.ondragenter = function () {
			this.className = 'hover';
			return false;
		};
		dropzone.ondragleave = function () {
			this.className = '';
			return false;
		};
		dropzone.ondrop = function (e) {
			var paths = [];

			e.preventDefault();

			this.className = '';

			for (var i = 0, l = e.dataTransfer.items.length; i < l; i++) {
				var entry = e.dataTransfer.items[i].webkitGetAsEntry();

				if (entry.isFile) {
					console.log('files are not supported!');
				}
				else if (entry.isDirectory) {
					paths.push(e.dataTransfer.files[i].path);
				}
			}

			if (paths.length) {
				win.emit('drop', paths);
			}
		};
	};

	document.getElementById('reload').onclick = function () {
		win.reload();
	}
</script>
</body>
</html>