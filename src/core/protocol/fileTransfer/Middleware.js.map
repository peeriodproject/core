{"version":3,"file":"Middleware.js","sourceRoot":"","sources":["Middleware.ts"],"names":["Middleware","Middleware.constructor","Middleware.addIncomingSocket","Middleware.closeSocketByIdentifier","Middleware.feedNode","Middleware._constructOutgoingKey","Middleware._feedSocket","Middleware._obtainConnectionAndFeed","Middleware._setupListeners"],"mappings":"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"}