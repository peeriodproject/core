{"version":3,"file":"Middleware.js","sourceRoot":"","sources":["Middleware.ts"],"names":["Middleware","Middleware.constructor","Middleware.getOutgoingList","Middleware.getIncomingList","Middleware.addIncomingSocket","Middleware.feedNode","Middleware._connectToNodeAndReduceBatch","Middleware._constructOutgoingKey","Middleware._feedSocket","Middleware._requestFeeding","Middleware._retrieveConnectionToNodeAndReduceBatch","Middleware._setupListeners"],"mappings":"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"}