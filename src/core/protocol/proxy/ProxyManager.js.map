{"version":3,"file":"ProxyManager.js","sourceRoot":"","sources":["ProxyManager.ts"],"names":["ProxyManager","ProxyManager.constructor","ProxyManager.kickOff","ProxyManager._addToConfirmedProxies","ProxyManager._addToProxyingFor","ProxyManager._blockProxyCycle","ProxyManager._canUseNodeAsProxy","ProxyManager._handleProxyMessage","ProxyManager._isProxyCapable","ProxyManager._messageIsIntendedForMyNode","ProxyManager._messageIsProxyAffine","ProxyManager._needsAdditionalProxy","ProxyManager._nodeToIdentifier","ProxyManager._proxyCycle","ProxyManager._proxyMessageThrough","ProxyManager._removeFromRequestedProxies","ProxyManager._requestProxy","ProxyManager._requestProxyTimeout","ProxyManager._setupListeners","ProxyManager._updateMyNodeAddresses"],"mappings":";;;;;;AAAA,8BAAkC;;AAYlC,qCAAyC;;AAEzC;;;;;;;;;;EAUG;AACH;IAA2BA,+BAAmBA;IAgI7CA,sBAAaA,MAAsBA,EAAEA,yBAA4DA,EAAEA,YAAkCA;QACpIC,WAAMA,KAAAA,CAACA;QA/HRA;;;;UAIGA;QACHA,KAAQA,cAAcA,GAAWA,IAAIA,CAACA;QAEtCA;;;;UAIGA;QACHA,KAAQA,iBAAiBA,GAAaA,EAAEA,CAACA;QAEzCA;;;;UAIGA;QACHA,KAAQA,oBAAoBA,GAAmCA,IAAIA,CAACA;QAEpEA;;;;UAIGA;QACHA,KAAQA,cAAcA,GAAiBA,EAAEA,CAACA;QAE1CA;;;;UAIGA;QACHA,KAAQA,mBAAmBA,GAAUA,CAACA,CAACA;QAEvCA;;;;UAIGA;QACHA,KAAQA,0BAA0BA,GAAUA,CAACA,CAACA;QAE9CA;;;;UAIGA;QACHA,KAAQA,OAAOA,GAAmBA,IAAIA,CAACA;QAEvCA;;;;UAIGA;QACHA,KAAQA,0BAA0BA,GAAsCA,IAAIA,CAACA;QAE7EA;;;;UAIGA;QACHA,KAAQA,oBAAoBA,GAAiBA,CAACA,eAAeA,EAAEA,cAAcA,EAAEA,cAAcA,EAAEA,eAAeA,CAACA,CAACA;QAEhHA;;;;UAIGA;QACHA,KAAQA,yBAAyBA,GAAUA,CAACA,CAACA;QAE7CA;;;;UAIGA;QACHA,KAAQA,YAAYA,GAAaA,EAAEA,CAACA;QAEpCA;;;;UAIGA;QACHA,KAAQA,iBAAiBA,GAAUA,CAACA,CAACA;QAErCA;;;;UAIGA;QACHA,KAAQA,qBAAqBA,GAAWA,KAAKA,CAACA;QAE9CA;;;;UAIGA;QACHA,KAAQA,aAAaA,GAAUA,CAACA,CAACA;QAEjCA;;;;UAIGA;QACHA,KAAQA,iBAAiBA,GAAgCA,EAAEA,CAACA;QAE5DA;;;;UAIGA;QACHA,KAAQA,aAAaA,GAAyBA,IAAIA,CAACA;QAEnDA;;;;UAIGA;QACHA,KAAQA,uBAAuBA,GAAUA,CAACA,CAACA;QAE3CA;;;;UAIGA;QACHA,KAAQA,6BAA6BA,GAAUA,CAACA,CAACA;;QAKhDA,IAAIA,CAACA,mBAAmBA,GAAGA,MAAMA,CAACA,GAAGA,CAACA,mCAAmCA,CAACA;QAC1EA,IAAIA,CAACA,yBAAyBA,GAAGA,MAAMA,CAACA,GAAGA,CAACA,yCAAyCA,CAACA;QACtFA,IAAIA,CAACA,aAAaA,GAAGA,MAAMA,CAACA,GAAGA,CAACA,uCAAuCA,CAACA,GAAGA,IAAIA;QAC/EA,IAAIA,CAACA,0BAA0BA,GAAGA,MAAMA,CAACA,GAAGA,CAACA,0CAA0CA,CAACA;QACxFA,IAAIA,CAACA,6BAA6BA,GAAGA,MAAMA,CAACA,GAAGA,CAACA,sDAAsDA,CAACA,GAAGA,IAAIA;;QAE9GA,IAAIA,CAACA,0BAA0BA,GAAGA,yBAAyBA;QAC3DA,IAAIA,CAACA,aAAaA,GAAGA,YAAYA;QACjCA,IAAIA,CAACA,oBAAoBA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,YAAYA,CAACA,CAACA;QACvDA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,0BAA0BA,CAACA,SAASA,CAACA,CAACA;;QAE1DA,IAAIA,IAAIA,CAACA,oBAAoBA,CAACA,MAAMA,CAAEA;YACrCA,IAAIA,CAACA,qBAAqBA,GAAGA,IAAIA;SACjCA;;QAEDA,IAAIA,CAACA,eAAeA,CAACA,CAACA;IACvBA,CAACA;IAUDD;;MANGA;IAEHA;;MAEGA;qCAEHA;QACCE,IAAIA,CAACA,WAAWA,CAACA,CAACA;IACnBA,CAACA;;IAWDF;;;;;;;;MADGA;oDACHA,UAAgCA,UAAiBA,EAAEA,IAAyBA;QAC3EG,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA,GAAGA,IAAIA;QACzCA,IAAIA,CAACA,0BAA0BA,CAACA,uBAAuBA,CAACA,IAAIA,CAACA;QAC7DA,IAAIA,CAACA,sBAAsBA,CAACA,CAACA;IAC9BA,CAACA;;IAUDH;;;;;;;MADGA;+CACHA,UAA2BA,UAAiBA,EAAEA,IAAyBA;QACtEI,IAAIA,CAACA,YAAYA,CAACA,UAAUA,CAACA,GAAGA,IAAIA;QACpCA,IAAIA,CAACA,0BAA0BA,CAACA,uBAAuBA,CAACA,IAAIA,CAACA;IAC9DA,CAACA;;IAODJ;;;;MADGA;8CACHA;QAAAK,iBAWCA;QAVAA,IAAIA,CAACA,cAAcA,GAAGA,KAAKA;QAC3BA,IAAIA,IAAIA,CAACA,iBAAiBA,CAAEA;YAC3BA,YAAYA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA;SACpCA;QACDA,IAAIA,CAACA,iBAAiBA,GAAGA,UAAUA,CAACA;YACnCA,KAAIA,CAACA,cAAcA,GAAGA,IAAIA;YAC1BA,KAAIA,CAACA,uBAAuBA,GAAGA,CAACA;YAChCA,KAAIA,CAACA,cAAcA,GAAGA,EAAEA;YACxBA,KAAIA,CAACA,WAAWA,CAACA,CAACA;QACnBA,CAACA,EAAEA,IAAIA,CAACA,6BAA6BA,CAACA;IACvCA,CAACA;;IASDL;;;;;;MADGA;gDACHA,UAA4BA,IAAyBA;QACpDM,IAAIA,UAAUA,GAAUA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,CAACA;QACpDA,IAAIA,MAAMA,GAAWA,IAAIA;;QAEzBA,MAAMA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA,GAAGA,KAAKA,GAAGA,MAAMA;QAC5DA,MAAMA,GAAGA,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA,GAAGA,KAAKA,GAAGA,MAAMA;QAC5DA,MAAMA,GAAGA,IAAIA,CAACA,cAAcA,CAACA,OAAOA,CAACA,UAAUA,CAACA,GAAGA,CAACA,CAACA,GAAGA,KAAKA,GAAGA,MAAMA;;QAEtEA,IAAIA,CAACA,MAAMA,CAAEA;YACZA,IAAIA,CAACA,uBAAuBA,EAAEA;YAC9BA,IAAIA,IAAIA,CAACA,uBAAuBA,IAAIA,IAAIA,CAACA,0BAA0BA,CAAEA;gBACpEA,IAAIA,CAACA,gBAAgBA,CAACA,CAACA;aACvBA;SACDA;;QAEDA,OAAOA,MAAMA;IACdA,CAACA;;IAaDN;;;;;;;;;;MADGA;iDACHA,UAA6BA,OAAgCA;QAA7DO,iBAqCCA;QApCAA,IAAIA,OAAOA,GAAUA,OAAOA,CAACA,cAAcA,CAACA,CAACA;QAC7CA,IAAIA,MAAMA,GAAwBA,OAAOA,CAACA,SAASA,CAACA,CAACA;QACrDA,IAAIA,UAAUA,GAAUA,IAAIA,CAACA,iBAAiBA,CAACA,MAAMA,CAACA;;QAEtDA,IAAIA,OAAOA,KAAKA,cAAcA,IAAIA,OAAOA,KAAKA,cAAcA,CAAEA;YAC7DA,IAAIA,cAAcA,GAAUA,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA;YAC9DA,IAAIA,cAAcA,CAAEA;gBACnBA,IAAIA,CAACA,2BAA2BA,CAACA,UAAUA,CAACA;;gBAE5CA,IAAIA,OAAOA,KAAKA,cAAcA,CAAEA;oBAC/BA,IAAIA,CAACA,sBAAsBA,CAACA,UAAUA,EAAEA,MAAMA,CAACA;iBAC/CA;;gBAEDA,IAAIA,CAACA,WAAWA,CAACA,CAACA;aAClBA;YACDA,OAAOA,CAACA,OAAOA,CAACA,CAACA;SACjBA,MACIA,IAAIA,OAAOA,KAAKA,eAAeA,CAAEA;YACrCA,IAAIA,CAACA,IAAIA,CAACA,YAAYA,CAACA,UAAUA,CAACA,IAAIA,IAAIA,CAACA,eAAeA,CAACA,CAACA,CAAEA;gBAC7DA,IAAIA,CAACA,0BAA0BA,CAACA,cAAcA,CAACA,MAAMA,EAAEA,cAAcA,EAAEA,IAAIA,MAAMA,CAACA,CAACA,CAACA,EAAEA,UAACA,GAASA;oBAC/FA,IAAIA,CAACA,GAAGA,CAAEA;wBACTA,KAAIA,CAACA,iBAAiBA,CAACA,UAAUA,EAAEA,MAAMA,CAACA;qBAC1CA;gBACFA,CAACA,CAACA;aACFA,KACIA;gBACJA,IAAIA,CAACA,0BAA0BA,CAACA,cAAcA,CAACA,MAAMA,EAAEA,cAAcA,EAAEA,IAAIA,MAAMA,CAACA,CAACA,CAACA,CAACA;gBACrFA,OAAOA,CAACA,OAAOA,CAACA,CAACA;aACjBA;SACDA,MACIA,IAAIA,OAAOA,KAAKA,eAAeA,CAAEA;YACrCA,IAAIA,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA,CAAEA;gBACvCA,iCAAiCA;gBACjCA,IAAIA,CAACA,0BAA0BA,CAACA,uBAAuBA,CAACA,MAAMA,EAAEA,OAAOA,CAACA,UAAUA,CAACA,CAACA,CAACA;aACrFA;SACDA;IACFA,CAACA;;IAUDP;;;;;;;MADGA;6CACHA;QACCQ,OAAOA,CAACA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,YAAYA,CAACA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,yBAAyBA,CAACA,IAAIA,IAAIA,CAACA,qBAAqBA;IAC9GA,CAACA;;IAUDR;;;;;;;MADGA;yDACHA,UAAqCA,OAAgCA;QAEpES,OAAOA,OAAOA,CAACA,aAAaA,CAACA,CAACA,CAACA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA,CAACA;IAC5DA,CAACA;;IAUDT;;;;;;;MADGA;mDACHA,UAA+BA,OAAgCA;QAE9DU,OAAOA,IAAIA,CAACA,oBAAoBA,CAACA,OAAOA,CAACA,OAAOA,CAACA,cAAcA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA;IACxEA,CAACA;;IAUDV;;;;;;;MADGA;mDACHA;QACCW,OAAOA,CAACA,CAACA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA,MAAMA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,CAACA,MAAMA,CAACA,GAAGA,IAAIA,CAACA,mBAAmBA,CAACA,IAAIA,CAACA,IAAIA,CAACA,qBAAqBA;IAC7JA,CAACA;;IAUDX;;;;;;;MADGA;+CACHA,UAA2BA,IAAyBA;QACnDY,OAAOA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,WAAWA,CAACA,CAACA;IAClCA,CAACA;;IAQDZ;;;;;MADGA;yCACHA;QAAAa,iBAWCA;QAVAA,IAAIA,IAAIA,CAACA,cAAcA,IAAIA,IAAIA,CAACA,qBAAqBA,CAACA,CAACA,CAAEA;YACxDA,IAAIA,CAACA,aAAaA,CAACA,oBAAoBA,CAACA,UAACA,GAASA,EAAEA,aAAkCA;gBACrFA,IAAIA,GAAGA,CAAEA;oBACRA,KAAIA,CAACA,gBAAgBA,CAACA,CAACA;iBACvBA,MACIA,IAAIA,aAAaA,IAAIA,KAAIA,CAACA,kBAAkBA,CAACA,aAAaA,CAACA,CAAEA;oBACjEA,KAAIA,CAACA,aAAaA,CAACA,aAAaA,CAACA;iBACjCA;YACFA,CAACA,CAACA;SACFA;IACFA,CAACA;;IASDb;;;;;;MADGA;kDACHA,UAA8BA,OAAgCA;QAC7Dc,IAAIA,UAAUA,GAAUA,OAAOA,CAACA,aAAaA,CAACA,CAACA,CAACA,WAAWA,CAACA,CAACA;QAC7DA,IAAIA,eAAeA,GAAGA,IAAIA,CAACA,YAAYA,CAACA,UAAUA,CAACA;QACnDA,IAAIA,eAAeA,CAAEA;YACpBA,IAAIA,CAACA,0BAA0BA,CAACA,cAAcA,CAACA,eAAeA,EAAEA,eAAeA,EAAEA,OAAOA,CAACA,YAAYA,CAACA,CAACA,EAAEA;gBACxGA,OAAOA,CAACA,OAAOA,CAACA,CAACA;YAClBA,CAACA,CAACA;SACFA;IACFA,CAACA;;IASDd;;;;;;MADGA;yDACHA,UAAqCA,UAAiBA;QACrDe,IAAIA,cAAcA,GAAUA,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA;;QAE9DA,YAAYA,CAACA,cAAcA,CAACA;QAC5BA,OAAOA,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA;QACzCA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CAACA,UAAUA,CAACA;IACrCA,CAACA;;IAUDf;;;;;;;MADGA;2CACHA,UAAuBA,IAAyBA;QAAhDgB,iBAUCA;QATAA,IAAIA,UAAUA,GAAUA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,CAACA;QACpDA,IAAIA,CAACA,0BAA0BA,CAACA,cAAcA,CAACA,IAAIA,EAAEA,eAAeA,EAAEA,IAAIA,MAAMA,CAACA,CAACA,CAACA,EAAEA,UAACA,GAASA;YAC9FA,IAAIA,CAACA,GAAGA,CAAEA;gBACTA,KAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA,GAAGA,UAAUA,CAACA;oBAC/CA,KAAIA,CAACA,oBAAoBA,CAACA,UAAUA,CAACA;gBACtCA,CAACA,EAAEA,KAAIA,CAACA,aAAaA,CAACA;aACtBA;YACDA,KAAIA,CAACA,WAAWA,CAACA,CAACA;QACnBA,CAACA,CAACA;IACHA,CAACA;;IAUDhB;;;;;;;MADGA;kDACHA,UAA8BA,UAAiBA;QAC9CiB,IAAIA,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA,CAAEA;YACvCA,OAAOA,IAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA;YACzCA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CAACA,UAAUA,CAACA;YACpCA,IAAIA,CAACA,WAAWA,CAACA,CAACA;SAClBA;IACFA,CAACA;;IAODjB;;;;MADGA;6CACHA;QAAAkB,iBAgDCA;QA/CAA,IAAIA,CAACA,0BAA0BA,CAACA,EAAEA,CAACA,SAASA,EAAEA,UAACA,OAAgCA;YAC9EA,uGAAuGA;YACvGA,KAAIA,CAACA,IAAIA,CAACA,wBAAwBA,EAAEA,OAAOA,CAACA,SAASA,CAACA,CAACA,CAACA;;YAExDA,wGAAwGA;YACxGA,IAAIA,KAAIA,CAACA,2BAA2BA,CAACA,OAAOA,CAACA,CAAEA;gBAC9CA,IAAIA,KAAIA,CAACA,qBAAqBA,CAACA,OAAOA,CAACA,CAAEA;oBACxCA,KAAIA,CAACA,mBAAmBA,CAACA,OAAOA,CAACA;iBACjCA,KACIA;oBACJA,KAAIA,CAACA,IAAIA,CAACA,SAASA,EAAEA,OAAOA,CAACA;iBAC7BA;aACDA,KACIA;gBACJA,KAAIA,CAACA,oBAAoBA,CAACA,OAAOA,CAACA;aAClCA;QACFA,CAACA,CAACA;;QAEFA,IAAIA,CAACA,0BAA0BA,CAACA,EAAEA,CAACA,sBAAsBA,EAAEA,UAACA,EAAMA;YACjEA,IAAIA,EAAEA,YAAYA,EAAEA,CAAEA;gBACrBA,IAAIA,UAAUA,GAAUA,EAAEA,CAACA,WAAWA,CAACA,CAACA;gBACxCA,IAAIA,YAAYA,GAAWA,KAAKA;gBAChCA,IAAIA,cAAcA,GAAGA,KAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA;gBACvDA,IAAIA,cAAcA,GAAGA,KAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA;gBACvDA,IAAIA,WAAWA,GAAGA,KAAIA,CAACA,YAAYA,CAACA,UAAUA,CAACA;;gBAE/CA,IAAIA,cAAcA,CAAEA;oBACnBA,YAAYA,GAAGA,IAAIA;oBACnBA,KAAIA,CAACA,2BAA2BA,CAACA,UAAUA,CAACA;iBAC5CA;gBACDA,IAAIA,cAAcA,CAAEA;oBACnBA,YAAYA,GAAGA,IAAIA;oBACnBA,KAAIA,CAACA,0BAA0BA,CAACA,+BAA+BA,CAACA,cAAcA,CAACA;oBAC/EA,OAAOA,KAAIA,CAACA,iBAAiBA,CAACA,UAAUA,CAACA;oBACzCA,KAAIA,CAACA,sBAAsBA,CAACA,CAACA;iBAC7BA;gBACDA,IAAIA,WAAWA,CAAEA;oBAChBA,KAAIA,CAACA,0BAA0BA,CAACA,+BAA+BA,CAACA,cAAcA,CAACA;oBAC/EA,OAAOA,KAAIA,CAACA,YAAYA,CAACA,UAAUA,CAACA;iBACpCA;;gBAGDA,IAAIA,YAAYA,CAAEA;oBACjBA,KAAIA,CAACA,WAAWA,CAACA,CAACA;iBAClBA;aACDA;QACFA,CAACA,CAACA;IACHA,CAACA;;IAODlB;;;;MADGA;oDACHA;QACCmB,IAAIA,WAAWA,GAAmCA,EAAEA;QACpDA,IAAIA,IAAIA,GAAiBA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA;;QAE5DA,KAAKA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,CAAEA;YACrCA,WAAWA,CAACA,MAAMA,CAACA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,CAACA,YAAYA,CAACA,CAACA,CAACA;SAClEA;;QAEDA,IAAIA,CAACA,OAAOA,CAACA,eAAeA,CAACA,WAAWA,CAACA;IAC1CA,CAACA;IAEFnB,oBAACA;AAADA,CAACA,EAtf0B,MAAM,CAAC,YAAY,EAsf7C;;AAED,6BAAsB,CAAA"}