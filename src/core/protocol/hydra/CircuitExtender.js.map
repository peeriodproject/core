{"version":3,"file":"CircuitExtender.js","sourceRoot":"","sources":["CircuitExtender.ts"],"names":["CircuitExtender","CircuitExtender.constructor","CircuitExtender.getCircuitId","CircuitExtender.getExpectReactionFrom","CircuitExtender.getNodes","CircuitExtender.extend","CircuitExtender.setAsFinished","CircuitExtender._clearReactionTimeout","CircuitExtender._getDiffieHellmanAndReturnPublicKey","CircuitExtender._doCallback","CircuitExtender._extensionError","CircuitExtender._handleRejection","CircuitExtender._onCircuitTermination","CircuitExtender._onReaction","CircuitExtender._removeMessageListener","CircuitExtender._removeTerminationListener"],"mappings":"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"}